<form
  class="edit-form"
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
>
  <h3 class="h3 mb60">Изменение категорий ножей</h3>

  <label class="tt-control-label mb16">
    Название категории
    <input formControlName="name" class="input tt-input" type="text" placeholder="Введите название категории">
  </label>

  <label class="tt-control-label mb16">
    Изображение
    <input formControlName="image" class="input tt-input" accept=".png, .jpg, .jpeg" type="file" (change)="onImageSelected($event)" placeholder="Выберите изображение" />
    <div class="error-text mt8" *ngIf="form.controls.image.hasError('notSupportedFileType')">
      Поддерживаемые типы файлов: .png, .jpg, .jpeg
    </div>
  </label>

  <button class="btn btn-shadow mb16" [class.inactive]="form.invalid" type="submit">
    Добавить категорию
  </button>

  <div class="error-text mt16" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>
</form>

<div class="category mt40">
  <h4 class="h4 mb20">Текущие категории:</h4>

  <div *ngFor="let category of categories" class="gallery mb16">
    <img class="gallery-img" [src]="category.image | imgUrl"/>
    <div class="category-info">
      <span>{{ category.name }}</span>
      <button class="btn btn-small btn-danger" (click)="onDeleteCategory(category.id)">
        Удалить
      </button>
    </div>
  </div>
</div>
